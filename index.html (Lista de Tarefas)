<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Lista de Tarefas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

    <h1 class="text-center mb-4"> Lista de Tarefas</h1>

    <div class="d-flex justify-content-end mb-3">
        <a href="Ultimo Trabalho02.html" class="btn btn-primary"> Nova Tarefa</a>
    </div>

    <div class="card shadow">
        <div class="card-body">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Prioridade</th>
                        <th>Descrição</th>
                        <th>Local</th>
                        <th>Recursos</th>
                        <th>Data Limite</th>
                        <th>Matrícula</th>
                    </tr>
                </thead>
                <tbody id="tabela"></tbody>
            </table>
        </div>
    </div>

</div>

<script>
    function carregarTarefas() {
        const tarefas = JSON.parse(localStorage.getItem("tarefas")) || [];
        const tabela = document.getElementById("tabela");
        tabela.innerHTML = "";

        for (const tarefa of tarefas) {
            const tr = document.createElement("tr");

            tr.innerHTML = `
                <td><span class="badge bg-${getCor(tarefa.prioridade)}">${tarefa.prioridade}</span></td>
                <td>${tarefa.descricao}</td>
                <td>${tarefa.local}</td>
                <td>${tarefa.recursosNecessarios.join(", ")}</td>
                <td>${tarefa.dataLimite}</td>
                <td>${tarefa.matricula}</td>
            `;

            tabela.appendChild(tr);
        }
    }

    function getCor(prio) {
        if (prio === "Urgente") return "danger";
        if (prio === "Normal") return "warning";
        return "success";
    }

    carregarTarefas();
</script>

</body>
</html>
